<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.teak.blog.mapper.ArticleDetailMapper">
    <resultMap id="BaseResultMap" type="com.teak.blog.model.ArticleDetail">
        <id column="id" jdbcType="BIGINT" property="id"/>
        <result column="content" property="content" jdbcType="VARCHAR"/>
        <result column="article_id" property="articleId" jdbcType="VARCHAR"/>
        <result column="article_cover" property="articleCover" jdbcType="VARCHAR"/>
    </resultMap>
    <select id="getArtDetailByArtId" resultType="com.teak.blog.vo.ArticleAndDetailVo">
        select a.id,
               b.title,
               a.article_cover,
               a.content,
               b.cate_id,
               c.cate_name,
               b.status,
               b.create_time,
               b.update_time,
               b.is_deleted
        from article_detail a
                 left join article b on a.article_id = b.id
                 left join category c on b.cate_id = c.id
        where a.id = #{articleId}
          and b.is_deleted = 0
    </select>

</mapper>